# React Component

A React component is a function that returns React element, i.e. markup with all the event listener etc.

## Rules of a React component

React component must be a pure function.

- given same props, it always produce same result

  ```jsx
  // NOPE, the id would be different everytime the component is run
  function Input(props) {
    return <input id={Date.now()} value={props.value} />;
  }
  ```

- it doesn't have side effect like updating DOM or changing the props

  ```jsx
  function Header(props) {
    document.title = props.title; // NOPE!!
    return <div>{props.title}</div>;
  }

  // bad - DON'T DO THIS :(
  function List(props) {
    props.items.push('additional items');
    return (
      <ul>
        {props.items.map(item => (
          <li>{item}</li>
        ))}
      </ul>
    );
  }
  // good
  function List(props) {
    const allItems = props.items.concat('additional items');
    return (
      <ul>
        {allItems.map(item => (
          <li>{item}</li>
        ))}
      </ul>
    );
  }
  ```

## Component are composable

```jsx
function Comment(props) {
  return (
    <div className="comment">
      <div>{props.user}</div>
      <div>
        <p>{props.comment}</p>
      </div>
      <div>{props.date}</div>
    </div>
  );
}

function Input(props) {}

function CommentList(props) {
  return (
    <div className="comment-list">
      {props.comments.map(comment => (
        <Comment
          user={comment.user}
          comment={comment.content}
          date={comment.date}
        />
      ))}
      <Input value={props.commentValue} onChange={props.onChange} />
    </div>
  );
}
```
